# SpacePingNode

Модуль ноды для пинга серверов/веб сайтов и проверки задержки/доступности TCP-портов

Текущие возможности:
- Пинг сервера по ICMP
- Проверка доступности TCP-порта
- Получение данных WHOIS для домена/IP-адреса
- Получение информации о Minecraft Java/Bedrock сервере
- Получение информации о Source/GoldSource сервере

## Настройка новой ноды

- Запустить/Создать сервер на OC Linux
- Открыть порт 8002 (Для Ubuntu: `ufw allow 8002`)
- Установить [Docker](https://docs.docker.com/get-docker/) и [Docker Compose](https://docs.docker.com/compose/install/)
- Загрузить папку `src` из репозитория на сервер
- В файле `/src/app/main.py` на строке `20` поменять значение переменной WHITELISTED_IPS на список IP-адресов, с которых
будет осуществляться доступ к АПИ ноды (например, адрес сервера, на котором стоит Telegram-Бот). Пример значения для 
одного адреса: `WHITELISTED_IPS = ["127.0.0.1"]`, для нескольких: `WHITELISTED_IPS = ["127.0.0.1", "192.168.1.1"]`
- Выполнить команды в терминале: `cd {путь}/src` и `docker-compose up -d --build`, после чего нода стартует в контейнере

## Как выключить/перезапустить контейнер ?

- Команда `docker stats` покажет вам все активные контейнеры (наш будет иметь название `spacepingnode-web-1`)
- Для остановки контейнера выполните команду `docker stop <название>`, затем контейнер можно удалить командой
`docker remove <название>`